{% extends "master.html" %}

{% block title %}
    <title>Versions</title>
{% endblock %}
{% block submenu %}
<div>
  <nav class="navbar navbar-expand-lg bg-light" id="network_nav">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Versions</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">

          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/add-version/">Add version</a>
            <!-- <a class="nav-link" aria-current="page" data-bs-toggle="offcanvas" href="#versionSidebar" role="button" aria-controls="offcanvasExample">Add version</a> -->
          </li> 
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/versions_archive/">Archived versions</a>
            <!-- <a class="nav-link" aria-current="page" data-bs-toggle="offcanvas" href="#versionSidebar" role="button" aria-controls="offcanvasExample">Add version</a> -->
          </li>  

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Import
            </a>
            <ul class="dropdown-menu">
              <!-- <li><a class="dropdown-item" href="/import_snapshot/">Import version file (PKL)</a></li> -->
              <li><a class="dropdown-item" href="/upload-file/">Import legacy file (JSON)</a></li>
            </ul>
          </li>
          <!-- {% if version_not_selected %}

        
          {% else %}
          {% if standardise %}
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/standardise_nodes/">Standardise nodes</a>
          </li>               
          {% endif %}
          {% endif %} -->
        </ul>
      </div>
    </div>
  </nav>
  </div>

{% endblock %}

{% block content %}
<div class="container">
 
<table class="table table-borderless align-middle w-auto">


  <th scope="col"></th>
  <th scope="col"></th>
  <th scope="col"></th>
  <th scope="col"></th>
  <th scope="col" style="width: 350px"></th>
  <!-- <th scope="col">Number</th> -->
  <!-- <th scope="col"></th> -->

  <!-- <th scope="col"></th> -->
{% for x in versions %}
{% if x.current %}
  <tr id="version{{x.id}}" class="table-active">
  {% else %}
  <tr id="version{{x.id}}" class="">  
  {% endif %}
  <td><form action="/edit-version/{{x.id}}" onsubmit="showPleaseWait()">
    <!-- <button type="submit" class="btn btn-secondary btn-sm">Edit</button> -->
    <input type="image" name="submit" src="/static/icons/pencil.svg" alt="Submit" style="width:20px;height:auto;"/>
  </form></td>
  <td><form action="/archive-version/{{x.id}}" onsubmit="showPleaseWait()">
    <!-- <button type="submit" class="btn btn-secondary btn-sm">Archive</button> -->
    <input type="image" name="submit" src="/static/icons/archive.svg" alt="Submit" style="width:20px;height:auto;" />
  </form></td>
  <td><form action="/copy-version/{{x.id}}" onsubmit="showPleaseWait()">
    <!-- <button type="submit" class="btn btn-secondary btn-sm">Delete</button> -->
    <input type="image" name="submit" src="/static/icons/copy.svg" alt="Submit" style="width:20px;height:auto;"  />
    <!-- <img src = "/static/icons/trash3.svg" style="width:20px;height:auto;" type="submit"> -->
  </form></td>
<td>
  <!-- <a href="/set-version/{{x.id}}" onclick="showPleaseWait()" class="link-offset-2 link-underline link-underline-opacity-0">{{x.name}}</a> -->
  <a href="#" onclick='setversionAJAX({"id": {{x.id}}})' class="link-offset-2 link-underline link-underline-opacity-0">{{x.name}}</a>
  


</td>
<!-- <td>
  <a>{{x.number}}</a>
</td> -->
<!-- <td style="text-align: center;">
  {% if x.current %}
  <img src = "/static/icons/check.svg" style="width:20px;height:auto;">
  {% endif %}
</td> -->

<!-- <td><form action="/set-version/{{x.id}}" onsubmit="showPleaseWait()">
  <input type="image" name="submit" src="/static/icons/check2-circle.svg" alt="Submit" style="width:20px;height:auto;"/>
</form></td> -->


  <!-- <td><form action="/update_loops/{{x.id}}">
  <button type="submit" class="btn btn-secondary btn-sm">Update loops</button>
</form></td> -->
<td>
</tr>
{% endfor %}
</table>

<p></p>
</div>
{% if fail_modal %}
<div id="uploadFail"></div>
{%endif%}

{% if gantt_error_modal %}
<div id="ganttError"></div>
{%endif%}
{% endblock %}
